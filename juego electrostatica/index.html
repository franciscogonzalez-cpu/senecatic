<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcade de Electrostática</title>
    
    <!-- Importar la fuente estilo Arcade -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <style>
        /* Estilos CSS para el look & feel "Arcade" */
        body {
            background-color: #0f0f1b; /* Fondo oscuro */
            color: #00ffcc; /* Texto principal neón (cyan) */
            font-family: 'Press Start 2P', cursive;
            text-align: center;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
            margin: 0;
        }

        .game-container {
            width: 100%;
            max-width: 700px;
            margin: auto;
            padding: 25px;
            border: 4px solid #ff00ff; /* Borde neón (magenta) */
            box-shadow: 0 0 25px #ff00ff, 0 0 10px #ff00ff inset;
            border-radius: 15px;
            background-color: #000; /* Fondo del juego */
        }

        h1 {
            color: #ffff00; /* Título neón (amarillo) */
            text-shadow: 0 0 10px #ffff00;
            font-size: 1.8rem;
            margin-bottom: 25px;
            /* Ajuste para títulos largos */
            line-height: 1.4;
        }

        #score-area {
            font-size: 1.2rem;
            color: #fff;
            margin-bottom: 30px;
        }

        #score-value {
            color: #ffff00;
            font-size: 1.5rem;
        }

        #question-area {
            margin-bottom: 30px;
            min-height: 100px; /* Espacio para preguntas de varias líneas */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        #question-label {
            font-size: 1rem;
            color: #fff;
            margin-bottom: 15px;
        }

        #question-text {
            font-size: 1.3rem; /* Tamaño ajustado para preguntas */
            color: #00ffcc;
            text-shadow: 0 0 10px #00ffcc;
            display: block;
            line-height: 1.5; /* Mejorar legibilidad */
        }

        #options-area {
            display: grid;
            grid-template-columns: 1fr; /* Una columna por defecto */
            gap: 15px;
            margin-bottom: 20px;
        }

        .option-btn {
            background-color: transparent;
            border: 3px solid #00ffcc;
            color: #00ffcc;
            padding: 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.9rem; /* Ligeramente más pequeño para opciones largas */
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            line-height: 1.4;
        }

        .option-btn:hover:not(:disabled) {
            background-color: #00ffcc;
            color: #000;
            box-shadow: 0 0 15px #00ffcc;
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* Clases para feedback visual */
        .option-btn.correct {
            background-color: #00ff00;
            border-color: #00ff00;
            color: #000;
            box-shadow: 0 0 15px #00ff00;
        }

        .option-btn.incorrect {
            background-color: #ff0000;
            border-color: #ff0000;
            color: #fff;
            box-shadow: 0 0 15px #ff0000;
        }

        #message {
            margin-top: 20px;
            font-size: 1rem;
            height: 30px; /* Espacio reservado para el mensaje */
            color: #fff;
        }

        #restart-btn {
            background-color: #ff00ff;
            color: #000;
            border: none;
            padding: 15px 30px;
            font-family: 'Press Start 2P', cursive;
            font-size: 1rem;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 0 15px #ff00ff;
            display: none; /* Oculto al inicio */
        }

        /* --- Diseño Responsivo --- */

        /* Para tablets y pantallas más anchas */
        @media (min-width: 600px) {
            #options-area {
                /* 3 columnas en pantallas más grandes */
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        /* Para móviles pequeños */
        @media (max-width: 400px) {
            h1 {
                font-size: 1.5rem;
            }
            #question-text {
                font-size: 1.1rem;
            }
            .option-btn {
                font-size: 0.8rem;
                padding: 15px;
            }
        }

    </style>
</head>
<body>

    <div class="game-container">
        <h1>Arcade de Electrostática</h1>
        
        <div id="score-area">
            PUNTUACIÓN: <span id="score-value">0</span>
        </div>
        
        <div id="question-area">
            <span id="question-label">PREGUNTA:</span>
            <span id="question-text"></span>
        </div>
        
        <div id="options-area">
            <!-- Los botones de opciones se generarán aquí -->
        </div>
        
        <div id="message"></div>

        <button id="restart-btn" onclick="startGame()">Jugar de Nuevo</button>
    </div>

    <script>
        // --- Banco de Preguntas (Pregunta, Respuesta Correcta, Distractores) ---
        const questionBank = [
            { q: '¿Qué carga eléctrica tiene un electrón?', a: 'Negativa', d: ['Positiva', 'Neutra'] },
            { q: '¿Qué partícula del átomo tiene carga positiva?', a: 'Protón', d: ['Electrón', 'Neutrón'] },
            { q: 'Dos cargas eléctricas del mismo signo...', a: 'Se repelen', d: ['Se atraen', 'Se ignoran'] },
            { q: 'Dos cargas eléctricas de signo opuesto...', a: 'Se atraen', d: ['Se repelen', 'Se anulan'] },
            { q: 'Un material que NO permite el paso de la corriente es un...', a: 'Aislante', d: ['Conductor', 'Semiconductor'] },
            { q: '¿Cuál es un buen material conductor?', a: 'Cobre', d: ['Madera', 'Plástico'] },
            { q: '¿Cuál es un buen material aislante?', a: 'Vidrio', d: ['Aluminio', 'Agua salada'] },
            { q: 'La unidad de carga eléctrica en el SI es el...', a: 'Culombio (C)', d: ['Voltio (V)', 'Amperio (A)'] },
            { q: '¿Qué ley describe la fuerza entre dos cargas?', a: 'Ley de Coulomb', d: ['Ley de Ohm', 'Ley de Watt'] },
            { q: 'Un objeto que pierde electrones queda cargado...', a: 'Positivamente', d: ['Negativamente', 'Neutro'] },
            { q: 'Un objeto que gana electrones queda cargado...', a: 'Negativamente', d: ['Positivamente', 'Neutro'] }
        ];

        // --- Variables del Juego ---
        let score = 0;
        let currentQuestionIndex = 0;
        let shuffledQuestions = [];
        let acceptingAnswers = true; // Para evitar múltiples clics

        // --- Elementos del DOM ---
        const scoreDisplay = document.getElementById('score-value');
        const questionText = document.getElementById('question-text');
        const optionsArea = document.getElementById('options-area');
        const messageDisplay = document.getElementById('message');
        const restartButton = document.getElementById('restart-btn');

        // --- Función para Barajar un Array (Algoritmo Fisher-Yates) ---
        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;

                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // --- Función para Iniciar el Juego ---
        function startGame() {
            score = 0;
            currentQuestionIndex = 0;
            shuffledQuestions = shuffle([...questionBank]); // Baraja una copia del banco
            updateScoreDisplay();
            messageDisplay.textContent = '';
            restartButton.style.display = 'none';
            acceptingAnswers = true;
            displayNextQuestion();
        }

        // --- Función para Mostrar la Siguiente Pregunta ---
        function displayNextQuestion() {
            if (currentQuestionIndex >= shuffledQuestions.length) {
                // --- Fin del Juego ---
                endGame();
                return;
            }

            acceptingAnswers = true;
            messageDisplay.textContent = '';
            optionsArea.innerHTML = ''; // Limpia opciones anteriores

            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            questionText.textContent = currentQuestion.q;

            // --- Generar Opciones (1 correcta, 2 distractores) ---
            const correctAnswer = currentQuestion.a;
            let options = [correctAnswer, ...currentQuestion.d]; // Combina respuesta y distractores
            
            options = shuffle(options); // Baraja las 3 opciones

            // --- Crea los botones ---
            options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-btn');
                button.onclick = (event) => checkAnswer(option, correctAnswer, event.target);
                optionsArea.appendChild(button);
            });
        }

        // --- Función para Comprobar la Respuesta ---
        function checkAnswer(selectedOption, correctOption, buttonElement) {
            if (!acceptingAnswers) return; // Si ya se respondió, no hacer nada
            acceptingAnswers = false;

            // Deshabilita todos los botones
            const allButtons = optionsArea.querySelectorAll('.option-btn');
            allButtons.forEach(btn => btn.disabled = true);

            if (selectedOption === correctOption) {
                // Respuesta Correcta
                score++;
                messageDisplay.textContent = '¡CORRECTO!';
                buttonElement.classList.add('correct');
            } else {
                // Respuesta Incorrecta
                messageDisplay.textContent = `Incorrecto. Es: ${correctOption}`;
                buttonElement.classList.add('incorrect');
                // Opcional: Muestra también el correcto
                allButtons.forEach(btn => {
                    if (btn.textContent === correctOption) {
                        btn.classList.add('correct');
                    }
                });
            }

            updateScoreDisplay();
            currentQuestionIndex++;

            // Espera 1.5 segundos antes de pasar a la siguiente pregunta
            setTimeout(displayNextQuestion, 1500);
        }

        // --- Función para Actualizar el Marcador ---
        function updateScoreDisplay() {
            scoreDisplay.textContent = score;
        }

        // --- Función de Fin de Juego ---
        function endGame() {
            questionText.textContent = '¡FIN!';
            messageDisplay.textContent = `Puntuación Final: ${score} / ${questionBank.length}`;
            optionsArea.innerHTML = '';
            restartButton.style.display = 'block'; // Muestra el botón de reinicio
        }

        // --- Iniciar el juego cuando el DOM esté cargado ---
        document.addEventListener('DOMContentLoaded', startGame);
    </script>

</body>
</html>
